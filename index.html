<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Project 1 • InovARkids</title>
    <meta name="description" content="AR • InovARkids">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://kit.fontawesome.com/24977366b5.js" crossorigin="anonymous"></script>

    <!-- Style / Btn click -->
    <!-- <script src="script.js"></script> -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Gesture -->
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
</head>
<body style='margin : 0px; overflow: hidden;' class="background">

    <!-- Scene -->

    <a-scene
        embedded
        arjs='detectionMode: mono_and_matrix; trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'
        renderer="logarithmicDepthBuffer: true;"
        vr-mode-ui="enabled: false"
        gesture-detector
        id="scene"
    >

    <!-- Objects -->

        <a-assets>
            <a-asset-item id='arduino-obj' src='./res/Ardi_UNO.obj'></a-asset-item>
            <a-asset-item id='arduino-mtl' src='./res/Ardi_UNO.mtl'></a-asset-item>

            <img id="completed" src="./res/project/completed.png">
            <img id="breadboard" src="./res/project/breadboard.png">
            <img id="buttons" src="./res/project/buttons.png">
            <img id="wires" src="./res/project/wires.png">
            <img id="resistors" src="./res/project/resistors.png">
            <img id="speaker" src="./res/project/speaker.png">
            <img id="placa" src="./res/project/placa.png">
        </a-assets>

    <!-- Marker -->

        <a-marker
            type='barcode'
            value='31'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="arduinoUno"
        >
            <a-entity
                obj-model='obj: #arduino-obj; mtl: #arduino-mtl;'
                scale="0.2 0.2 0.2"
                rotation='0 0 0'
                position='0 0 0'
                class="clickable"
                gesture-handler="minScale: 0.1; maxScale: 10"
            >
            </a-entity>
        </a-marker>


        <a-marker
            type='barcode'
            value='0'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="completed"
        >
        <a-image src="#completed"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='1'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="breadboard"
        >
        <a-image src="#breadboard"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='2'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="buttons"
        >
        <a-image src="#buttons"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='3'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="wires"
        >
        <a-image src="#wires"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='4'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="resistors"
        >
        <a-image src="#resistors"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='5'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="speaker"
        >
        <a-image src="#speaker"></a-image>
        </a-marker>
        <a-marker
            type='barcode'
            value='6'
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="placa"
        >
        <a-image src="#placa"></a-image>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <!-- Steps -->
    
    <div class="stepsCards">
        <div class="card">
            <img src="./res/targets/00.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 1</b></h4>
              <audio id="player">
                <source src="./res/audio/passo1.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>
                  Vamos iniciar o teu primeiro projeto Arduino.
                  Coloca os fios amarelos e laranja na placa,
                  nas coordenadas indicadas na imagem.
              </p>
            </div>
        </div>
        <div class="card">
            <img src="./res/targets/01.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 2</b></h4>
              <audio id="player1">
                <source src="./res/audio/frase11.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player1').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>
                  Coloca os 4 botões nas coordenadas junto aos fios amarelos.
              </p>
            </div>
        </div>
        <div class="card">
            <img src="./res/targets/02.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 3</b></h4>
              <audio id="player2">
                <source src="./res/audio/frase12.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player2').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>
                  Coloca os restantes fios, das 4 cores, nas respetivas coordenadas.
              </p>
            </div>
        </div>
        <div class="card">
            <img src="./res/targets/03.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 4</b></h4>
              <audio id="player3" >
                <source src="./res/audio/frase13.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player3').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>
                  Coloca a campainha, nas coordenadas B2 e B8.
              </p>
            </div>
        </div>
        <div class="card">
            <img src="./res/targets/04.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 5</b></h4>
              <audio id="player4">
                <source src="./res/audio/frase14.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player4').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>
                  Coloca as 4 resistências nas respetivas coordenadas. Repara que duas são iguais.
              </p>
            </div>
        </div>
        <div class="card">
            <img src="./res/targets/05.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 6</b></h4>
              <audio id="player5">
                <source src="./res/audio/frase15.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player5').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>Liga os 4 fios à placa Arduino, conforme a imagem final.</p>
            </div>
        </div>
        <div class="card">
          <audio id="som">
            <source src="./res/audio/arduino-som.mp3" type="audio/mpeg">
            Seu navegador não suporta este elemento de audio.
            </audio>
            <button onclick="document.getElementById('som').play()">
              <i class="fa-regular fa-circle-play"></i>
            </button>
            <img src="./res/targets/06.png" alt="step1" class="stepImg">
            <div class="container">
              <h4><b>Passo 7</b></h4>
              <audio id="player6">
                <source src="./res/audio/frase16.mp3" type="audio/mpeg">
              Seu navegador não suporta este elemento de audio.
              </audio>
              <button onclick="document.getElementById('player6').play()">
                <i class="fa-regular fa-circle-play"></i>
              </button> 
              <p>Construíste o teu primeiro projeto, carrega nos botões e houve o som do teclado musical.</p>
            </div>
        </div>
    </div>

    <div class="centerCards">
        <div class="btnCards">
          <button class="nextBtn" onclick="plusDivs(-1)">❮ Anterior</button>
          <button class="nextBtn" onclick="plusDivs(1)">Próximo ❯</button>
        </div>
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(1)">1</button> 
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(2)">2</button> 
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(3)">3</button>
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(4)">4</button> 
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(5)">5</button> 
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(6)">6</button> 
        <button class="stepsBtn curentStepBtn" onclick="currentDiv(7)">7</button> 
    </div>

    <!-- Button -->
    <div class="btn">
      <button class="info">Dúvidas?</button>
    </div>

    <script>
        var slideIndex = 1;
        showDivs(slideIndex);
        
        function plusDivs(n) {
          showDivs(slideIndex += n);
        }
        
        function currentDiv(n) {
          showDivs(slideIndex = n);
        }
        
        function showDivs(n) {
          var i;
          var x = document.getElementsByClassName("card");
          var dots = document.getElementsByClassName("stepsBtn");
          if (n > x.length) {slideIndex = 1}    
          if (n < 1) {slideIndex = x.length}
          for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";  
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" curentStepBtn", "");
          }
          x[slideIndex-1].style.display = "block";  
          dots[slideIndex-1].className += " curentStepBtn";
        }
    </script>
</body>
</html>